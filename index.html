<html>
    <head>
        <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
        <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.min.js"></script>
        <script>
            function polar(z, theta){
                var r = z/Math.sin((theta * Math.PI)/180);
                return r;
            }
            function cartesian(r, theta){
                theta = (theta * Math.PI)/180;
                var z = r*Math.sin(theta);
                var x = r*Math.cos(theta);
                return {x, z}
            }
            // window.addEventListener("keydown",function (e){
            //     let {x, y, z} = document.querySelector("#cameraWrapper").getAttribute("position")
            //     let rotation = document.querySelector("#cameraWrapper").getAttribute("rotation")
            //     let rx = rotation.x;
            //     let ry = rotation.y;
            //     let rz = rotation.z;
            //     if(e.keyCode === 87){
            //         if(Math.sin((ry * Math.PI)/180)===0){
            //             z = z - 1
            //             document.querySelector("#cameraWrapper").setAttribute("position", {x, y, z})
            //         }
            //         // z = z - 1
            //         // document.querySelector("#cameraWrapper").setAttribute("position", {x, y, z})
            //         // console.log(polar(z, ry));
            //         else{
            //             var polar_axis = polar(z, ry);
            //             polar_axis = polar_axis + 1
            //             var ordinates = cartesian(polar_axis, ry);
            //             document.querySelector("#cameraWrapper").setAttribute("position", {x:ordinates.x, y, z:ordinates.z})
            //         }
            //     }
            //     else if(e.keyCode === 65){
            //         // x = x - 1
            //         // document.querySelector("#cameraWrapper").setAttribute("position", {x, y, z})
            //         var polar_axis = polar(z, ry + 90);
            //         polar_axis = polar_axis + 1
            //         var ordinates = cartesian(polar_axis, ry);
            //         document.querySelector("#cameraWrapper").setAttribute("position", {x:ordinates.z, y, z:z})
            //     }
            //     else if(e.keyCode === 83){
            //         if(Math.sin((ry * Math.PI)/180)===0){
            //             z = z + 1
            //             document.querySelector("#cameraWrapper").setAttribute("position", {x, y, z})
            //         }
            //         else{
            //             var polar_axis = polar(z, ry);
            //             polar_axis = polar_axis - 1
            //             var ordinates = cartesian(polar_axis, ry);
            //             document.querySelector("#cameraWrapper").setAttribute("position", {x:ordinates.x, y, z:ordinates.z})
            //         }
            //     }
            //     else if(e.keyCode === 68){
            //         // x = x + 1
            //         // document.querySelector("#cameraWrapper").setAttribute("position", {x, y, z})
            //         var polar_axis = polar(z, ry - 90);
            //         polar_axis = polar_axis - 1
            //         var ordinates = cartesian(polar_axis, ry);
            //         document.querySelector("#cameraWrapper").setAttribute("position", {x:ordinates.z, y, z:z})
            //     }
            //     else if(e.keyCode === 82){
            //         ry = ry - 90
            //         document.querySelector("#cameraWrapper").setAttribute("rotation", {x:rx, y:ry, z:rz})
            //     }
            //     else if(e.keyCode === 76){
            //         ry = ry + 90
            //         document.querySelector("#cameraWrapper").setAttribute("rotation", {x:rx, y:ry, z:rz})
            //     }
            // })
            function clickMovement(direction){
                let {x, y, z} = document.querySelector("#cameraWrapper").getAttribute("position")
                if(direction.id === "forward"){
                    
                    // z = z - 1
                    // document.querySelector("#cameraWrapper").setAttribute("position", {x, y, z})
                    var keydownEvent = new KeyboardEvent("keydown",{
                        keyCode: 87
                    })
                    var keyupEvent = new KeyboardEvent("keyup",{
                        keyCode: 87
                    })
                    window.dispatchEvent(keydownEvent)
                    setInterval(()=>{
                        window.dispatchEvent(keyupEvent)
                    }, 500)
                }
                else if(direction.id === "left"){
                    // x = x - 1
                    // document.querySelector("#cameraWrapper").setAttribute("position", {x, y, z})
                    var keydownEvent = new KeyboardEvent("keydown",{
                        keyCode: 65
                    })
                    var keyupEvent = new KeyboardEvent("keyup",{
                        keyCode: 65
                    })
                    window.dispatchEvent(keydownEvent)
                    setInterval(()=>{
                        window.dispatchEvent(keyupEvent)
                    }, 500)
                }
                else if(direction.id === "backward"){
                    // z = z + 1
                    // document.querySelector("#cameraWrapper").setAttribute("position", {x, y, z})
                    var keydownEvent = new KeyboardEvent("keydown",{
                        keyCode: 83
                    })
                    var keyupEvent = new KeyboardEvent("keyup",{
                        keyCode: 83
                    })
                    window.dispatchEvent(keydownEvent)
                    setInterval(()=>{
                        window.dispatchEvent(keyupEvent)
                    }, 500)
                }
                else if(direction.id === "right"){
                    // x = x + 1
                    // document.querySelector("#cameraWrapper").setAttribute("position", {x, y, z})
                    var keydownEvent = new KeyboardEvent("keydown",{
                        keyCode: 68
                    })
                    var keyupEvent = new KeyboardEvent("keyup",{
                        keyCode: 68
                    })
                    window.dispatchEvent(keydownEvent)
                    setInterval(()=>{
                        window.dispatchEvent(keyupEvent)
                    }, 500)
                }
            }
          </script>
        <title>BNCC Meuseum</title>
        <style>
            .controller{
                position: fixed;
                width: 70px;
                height: 70px;
                z-index: 3;
                background: transparent;
                color: black;
                font-size: 42px;
                font-weight: 900;
                border:1px black inset;
                border-radius: 25px;
                text-align: center;
                vertical-align: middle;
            }
            .controller:hover{
                background: whitesmoke;
            }
            #forward{
                left: calc(50vw - 35px);
                top: 0;
            }
            #left{
                left: 0;
                top: calc(50vh - 35px);
            }
            #backward{
                left:calc(50vw - 35px);
                bottom: 0;
            }
            #right{
                right: 0;
                top: calc(50vh - 35px);
            }
        </style>
    </head>
    <body style="user-select: none; -webkit-app-region:drag;">
        
        <a-scene physics="debug: true">
            <div class="controller" id="forward" onclick="clickMovement(this)">&uarr;</div>
            <div class="controller" id="left" onclick="clickMovement(this)">&larr;</div>
            <div class="controller" id="backward" onclick="clickMovement(this)">&darr;</div>
            <div class="controller" id="right" onclick="clickMovement(this)">&rarr;</div>
            <!-- assets -->
            <a-assets>
                <img id="grass_texture" src="textures/grass(1).jpg">
                <img id="sky_texture" src="textures/clear_sky.jpeg">
                <img id="concrete_texture" src="textures/concrete_texture.jpg">
                <img id="brick_texture" src="textures/brick_texture.jpg">
                <img id="white_marbel" src="textures/white_marbel_tiles.jpg">
                <img id="surface_tile" src="textures/surface-tile.jpg">
                <img id="logo" src="Bncc_logo.png">
                <img id="fatherofnation" src="assets/bongobondhu.jpg">
                <img id="president" src="assets/abdul_hamid.jpg">
                <img id="prime_minister" src="assets/sheikh_hasina.jpg">
                <img id="dg" src="assets/nahidul_islam.jpg">
                <img id="fame_badge" src="assets/fame_badge.gif">
                <img id="mag_osmani" src="assets/prides/mag_osmani.jpg">
                <img id="shaheed_rumi" src="assets/prides/rumi.jpg">
                <img id="du_vc" src="assets/prides/du_vc.jpg">
                <img id="enamur_rahman" src="assets/prides/enamur_rahman.jpg">
                <!-- photo_gallery -->
                <img id="1" src="assets/photo_gallery/1.jpg">
                <img id="2" src="assets/photo_gallery/2.jpg">
                <img id="3" src="assets/photo_gallery/3.jpg">
                <img id="4" src="assets/photo_gallery/4.jpg">
                <img id="5" src="assets/photo_gallery/5.jpg">
                <img id="6" src="assets/photo_gallery/6.jpg">
                <img id="7" src="assets/photo_gallery/7.jpg">
                <img id="8" src="assets/photo_gallery/8.jpg">
                <img id="9" src="assets/photo_gallery/9.jpg">
                <img id="10" src="assets/photo_gallery/10.jpg">
                <img id="11" src="assets/photo_gallery/11.png">
              </a-assets>


              <!-- sky -->
              <a-sky src="#sky_texture"></a-sky>
              <!-- plane -->
              <a-plane rotation="-90 0 0" material="src:#grass_texture;repeat:500 500" scale="1000 1000 0" position="0 0 0"></a-plane>

              <!-- walls -->
              <a-box src="#concrete_texture" depth="0.5" height="4" width="6" position="-6 2 -8" change-color-on-hover="color: blue"></a-box>
              <a-box src="#concrete_texture" depth="0.5" height="4" width="6" position="4 2 -8"></a-box>
              <a-box src="#concrete_texture" depth="0.5" height="4" width="26" position="-1 5.75 -11.75"></a-box>
              <a-box src="#concrete_texture" depth="0.5" height="8" width="15" position="11.75 4 -19" rotation="0 90 0"></a-box>
              <a-box src="#concrete_texture" depth="0.5" height="8" width="15" position="-13.75 4 -19" rotation="0 90 0"></a-box>
              <a-box src="#concrete_texture" depth="0.5" height="8" width="26" position="-1 4 -26"></a-box>
              <a-box src="#concrete_texture" depth="0.5" height="4" width="5" position="9.5 2 -11.75"></a-box>
              <a-box src="#concrete_texture" depth="0.5" height="4" width="5" position="-11.5 2 -11.75"></a-box>
              <a-box src="#concrete_texture" depth="0.5" height="4" width="3.5" position="-8.75 2 -9.75" rotation="0 90 0"></a-box>
              <a-box src="#concrete_texture" depth="0.5" height="4" width="3.5" position="6.75 2 -9.75" rotation="0 90 0"></a-box>
              

              <!-- roof -->
              <a-box src="#concrete_texture" depth="0.5" height="6" width="16" position="-1 4 -9" rotation="90 0 0"></a-box>
              <a-box src="#concrete_texture" depth="15" height="0.5" width="26" position="-1 8 -19" rotation="0 0 0"></a-box>

              <!-- tiles -->
              <a-plane src="#white_marbel" position="-1 0.09 -19" width="26" height="15" rotation="-90 0 0"></a-plane>
              <a-plane src="#brick_texture" height="6" width="16" position="-1 0.09 -8.5" repeat="5 5" rotation="-90 0 0"></a-plane>

              <!-- outside -->
              <a-image src="#logo" height="1" width="1" position="4 2.5 -7.7"></a-image>
              <a-text value="
                 BNCC
                Meuseum
              " position="4 1.2 -7.7" color="gray" height="1.5" width="10" align="center"></a-text>
              <a-text value="
              Knowledge, Discipline, The volunteers
              " position="-1 4 -5.98" color="crimson" height="1.5" width="10" align="center"></a-text>

              <!-- interiors -->
              <a-image position="-2 6.5 -25.6" src="#fatherofnation" height="1" width="1" rotation="5 0 0"></a-image>
              <a-image position="0 6.3 -25.6" src="#prime_minister" height="0.9" width="0.9" rotation="5 0 0"></a-image>
              <a-image position="-4 6.3 -25.6" src="#president" height="0.9" width="0.9" rotation="5 0 0"></a-image>
              <a-text value="
              Bangladesh National Cadet Corps
              " position="-2 5 -25.6" color="crimson" height="1.5" width="10" align="center"></a-text>
              <a-text value="
              Honourable DG
              " position="-4 4 -25.6" color="black" height="1" width="10" align="center"></a-text>
              <a-image position="-5 3 -25.6" src="#dg" height="1" width="1"></a-image>
              <a-text value="
              Brig Gen Nahidul Islam khan BSP, ndc, psc
                    
              
              Brigadier General Nahidul Islam Khan was born on 14th August 1968 in the district of Myme nsingh. He is the son of heroic freedom fighter and retired Police Super Nurul Islam Khan.
              " position="-3 3 -25.6" color="black" height="0.6" width="10" align="center" scale="0.2 0.4 0.2"></a-text>


              <!-- hall of fame -->
              <a-image position="11.4 6.5 -19" src="#fame_badge" height="1" width="1" rotation="0 270 0"></a-image>
              <!-- mag_osmani -->
              <a-image position="11.4 4.5 -22" src="#mag_osmani" height="1" width="1" rotation="0 270 0"></a-image>
              <a-text value="
              Gen MAG Osmani
              " position="11.4 3.7 -22" color="black" height="0.6" width="10" align="center" scale="0.2 0.4 0.2" rotation="0 270 0"></a-text>
              <!-- shaheed_rumi -->
              <a-image position="11.4 4.5 -20" src="#shaheed_rumi" height="1" width="1" rotation="0 270 0"></a-image>
              <a-text value="
              Sgt Shafi Ahmed Rumi
              " position="11.4 3.7 -20" color="black" height="0.6" width="10" align="center" scale="0.2 0.4 0.2" rotation="0 270 0"></a-text>
              <!-- dr.akhtaruzzaman -->
              <a-image position="11.4 4.5 -18" src="#du_vc" height="1" width="1" rotation="0 270 0"></a-image>
              <a-text value="
              Dr. Md. Akhtaruzzaman
              " position="11.4 3.7 -18" color="black" height="0.6" width="10" align="center" scale="0.2 0.4 0.2" rotation="0 270 0"></a-text>
              <!-- enamur_rahman -->
              <a-image position="11.4 4.5 -16" src="#enamur_rahman" height="1" width="1" rotation="0 270 0"></a-image>
              <a-text value="
              Dr. Enamur Rahman
              " position="11.4 3.7 -16" color="black" height="0.6" width="10" align="center" scale="0.2 0.4 0.2" rotation="0 270 0"></a-text>

              <!-- photo_gallery -->
              <a-text value="
              Photo Gallery
              " position="-13.3 6 -19" color="black" height="0.6" width="10" align="center" rotation="0 90 0"></a-text>
              <a-image position="-13.3 4.5 -16" src="#1" height="1.5" width="1.5" rotation="0 270 0"></a-image>
              <a-image position="-13.3 4.5 -18" src="#2" height="1.5" width="1.5" rotation="0 270 0"></a-image>
              <a-image position="-13.3 4.5 -20" src="#3" height="1.5" width="1.5" rotation="0 270 0"></a-image>
              <a-image position="-13.3 4.5 -22" src="#4" height="1.5" width="1.5" rotation="0 270 0"></a-image>
              <a-image position="-13.3 2.5 -16" src="#5" height="1.5" width="1.5" rotation="0 270 0"></a-image>
              <a-image position="-13.3 2.5 -18" src="#6" height="1.5" width="1.5" rotation="0 270 0"></a-image>
              <a-image position="-13.3 2.5 -20" src="#7" height="1.5" width="1.5" rotation="0 270 0"></a-image>
              <a-image position="-13.3 2.5 -22" src="#8" height="1.5" width="1.5" rotation="0 270 0"></a-image>

              <a-entity id="cameraWrapper">
                  <a-camera></a-camera>
              </a-entity>
        </a-scene>
    </body>
</html>
